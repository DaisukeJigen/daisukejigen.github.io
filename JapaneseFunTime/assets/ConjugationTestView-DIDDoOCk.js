import{d as C,x as N,o as A,i as l,c,a as s,v as g,u as t,a9 as k,r as E,aa as z,C as m,b as F,F as p,z as V,m as b,y as B,s as G,q as w,_ as W,A as L,G as R,j,e as J,f as U,k as D,ab as H,D as K,E as O,ac as P,I as Q}from"./index-DtIWcosX.js";import{c as M}from"./conjugate-i1AHIhxI.js";import{s as y,a as X}from"./index-CuvgpViI.js";const Y={class:"container"},Z={class:"row"},tt={class:"col"},et={class:"row"},st={class:"col"},ot=C({__name:"Info",props:{word:{type:null,default:null}},setup(v){const o=N();return A(()=>{}),(e,f)=>(l(),c("div",Y,[s("div",Z,[s("div",tt,[s("span",null,g(v.word[t(o).uglyJmdict.kanji][0][t(o).uglyJmdict.text])+" ("+g(v.word[t(o).uglyJmdict.kana][0][t(o).uglyJmdict.text])+")",1)])]),s("div",et,[s("div",st,[s("span",null,g(v.word[t(o).uglyJmdict.sense][0][t(o).uglyJmdict.gloss].map(i=>i[t(o).uglyJmdict.text]).join("; ")),1)])])]))}}),lt={class:"container"},at={class:"row"},nt={class:"col"},ut={class:"col"},it={key:1,class:"answer"},ct=C({__name:"TestItem",props:{form:{type:String,default:""},conjugation:{type:null,default:null}},setup(v,{expose:o}){const e=k();N();const f=v,i=E({}),T=E({});o({checkAnswers:()=>{m.keys(f.conjugation).forEach(d=>{m.keys(f.conjugation[d]).forEach(n=>{T.value[d][n]=f.conjugation[d][n].kanji==i.value[d][n]||f.conjugation[d][n].kana==i.value[d][n]})})},reset:a}),z(()=>{a()});function a(){m.keys(f.conjugation).forEach(d=>{i.value[d]={},T.value[d]={},m.keys(f.conjugation[d]).forEach(n=>{i.value[d][n]="",T.value[d][n]=null})})}return A(()=>{document.querySelectorAll(".p-inputtext").forEach(d=>{F(d)})}),(d,n)=>(l(),c("div",lt,[s("div",at,[s("div",nt,[s("span",null,g(v.form),1)]),(l(!0),c(p,null,V(t(m.keys)(v.conjugation[t(m.keys)(v.conjugation)[0]]),u=>(l(),c("div",{class:"col",key:u},[s("span",null,g(u),1)]))),128))]),(l(!0),c(p,null,V(t(m.keys)(v.conjugation),u=>(l(),c("div",{key:u,class:"row"},[s("div",ut,[s("span",null,g(u),1)]),(l(!0),c(p,null,V(t(m.keys)(v.conjugation[u]),r=>(l(),c("div",{class:"col",key:r},[t(e).formsToTest[f.form][u][r]==!0?(l(),b(t(G),{key:0,class:B(T.value[u][r]==!0?"correct":T.value[u][r]==!1?"incorrect":""),modelValue:i.value[u][r],"onUpdate:modelValue":h=>i.value[u][r]=h},null,8,["class","modelValue","onUpdate:modelValue"])):w("",!0),t(e).showEverything||T.value[u][r]!=null?(l(),c("span",it,g(v.conjugation[u][r].kanji)+" ("+g(v.conjugation[u][r].kana)+")",1)):w("",!0)]))),128))]))),128))]))}}),dt=W(ct,[["__scopeId","data-v-9794514a"]]),$=v=>(K("data-v-ca605640"),v=v(),O(),v),rt={class:"container"},mt=H('<div class="row" data-v-ca605640><div class="col-6" data-v-ca605640><span class="header" data-v-ca605640>Conjugations</span></div><div class="col-3" data-v-ca605640><span class="header" data-v-ca605640>Vocab Type</span></div><div class="col-3" data-v-ca605640><span class="header" data-v-ca605640>List</span></div></div>',1),vt={class:"row"},Tt={key:1},ft={key:1},_t={class:"col"},gt=$(()=>s("span",null,"Verbs",-1)),pt=$(()=>s("span",null,"Na Adjectives",-1)),ht=$(()=>s("span",null,"I Adjectives",-1)),jt=$(()=>s("br",null,null,-1)),Vt=$(()=>s("br",null,null,-1)),yt=$(()=>s("span",{class:"header"},"Misc",-1)),Jt=$(()=>s("br",null,null,-1)),wt={class:"col"},bt={key:0},xt={class:"row"},$t={class:"col"},It=C({__name:"Setup",emits:["go"],setup(v,{emit:o}){const e=k();A(()=>{});const f=T=>typeof T=="boolean",i=L(()=>[m.keys(e.formsToTest).slice(0,8),m.keys(e.formsToTest).slice(8)]);return R(()=>e.listsToTest.JMDict,(T,_)=>{T&&m.keys(e.listsToTest).filter(a=>a!="JMDict").forEach(a=>{m.keys(e.listsToTest[a]).forEach(d=>{e.listsToTest[a][d]=!1})})},{deep:!0}),(T,_)=>(l(),c("div",rt,[mt,s("div",vt,[(l(!0),c(p,null,V(i.value,(a,d)=>(l(),c("div",{class:"col",key:d},[s("ul",null,[(l(!0),c(p,null,V(a,n=>(l(),c("li",{key:n},[f(t(e).formsToTest[n])?(l(),b(t(y),{key:0,binary:!0,modelValue:t(e).formsToTest[n],"onUpdate:modelValue":u=>t(e).formsToTest[n]=u},null,8,["modelValue","onUpdate:modelValue"])):w("",!0),j(" "+g(n)+" ",1),f(t(e).formsToTest[n])?w("",!0):(l(),c("ul",Tt,[(l(!0),c(p,null,V(t(m.keys)(t(e).formsToTest[n]),u=>(l(),c("li",{key:u},[f(t(e).formsToTest[n][u])?(l(),b(t(y),{key:0,binary:!0,modelValue:t(e).formsToTest[n][u],"onUpdate:modelValue":r=>t(e).formsToTest[n][u]=r},null,8,["modelValue","onUpdate:modelValue"])):w("",!0),j(" "+g(u)+" ",1),f(t(e).formsToTest[n][u])?w("",!0):(l(),c("ul",ft,[(l(!0),c(p,null,V(t(m.keys)(t(e).formsToTest[n][u]),r=>(l(),c("li",{key:r},[f(t(e).formsToTest[n][u][r])?(l(),b(t(y),{key:0,binary:!0,modelValue:t(e).formsToTest[n][u][r],"onUpdate:modelValue":h=>t(e).formsToTest[n][u][r]=h},null,8,["modelValue","onUpdate:modelValue"])):w("",!0),j(" "+g(r),1)]))),128))]))]))),128))]))]))),128))])]))),128)),s("div",_t,[s("ul",null,[s("li",null,[J(t(y),{binary:"",modelValue:t(e).typesToTest.verbs,"onUpdate:modelValue":_[0]||(_[0]=a=>t(e).typesToTest.verbs=a)},null,8,["modelValue"]),gt]),s("li",null,[J(t(y),{binary:"",modelValue:t(e).typesToTest.naAdjectives,"onUpdate:modelValue":_[1]||(_[1]=a=>t(e).typesToTest.naAdjectives=a)},null,8,["modelValue"]),pt]),s("li",null,[J(t(y),{binary:"",modelValue:t(e).typesToTest.iAdjectives,"onUpdate:modelValue":_[2]||(_[2]=a=>t(e).typesToTest.iAdjectives=a)},null,8,["modelValue"]),ht])]),jt,Vt,yt,Jt,s("ul",null,[s("li",null,[J(t(y),{binary:"",modelValue:t(e).showEverything,"onUpdate:modelValue":_[3]||(_[3]=a=>t(e).showEverything=a)},null,8,["modelValue"]),j("Show conjugations not being tested ")])])]),s("div",wt,[s("ul",null,[s("li",null,[J(t(y),{binary:"",modelValue:t(e).listsToTest.JMDict,"onUpdate:modelValue":_[4]||(_[4]=a=>t(e).listsToTest.JMDict=a)},null,8,["modelValue"]),j("The entire JMDict file ")]),(l(!0),c(p,null,V(t(m.keys)(t(e).listsToTest).filter(a=>a!="JMDict"),(a,d)=>(l(),c("li",{key:d},[j(g(a)+" ",1),f(t(e).formsToTest[a])?w("",!0):(l(),c("ul",bt,[(l(!0),c(p,null,V(t(m.keys)(t(e).listsToTest[a]),(n,u)=>(l(),c("li",{key:u},[J(t(y),{binary:!0,modelValue:t(e).listsToTest[a][n],"onUpdate:modelValue":r=>t(e).listsToTest[a][n]=r,disabled:t(e).listsToTest.JMDict},null,8,["modelValue","onUpdate:modelValue","disabled"]),j(g(n),1)]))),128))]))]))),128))])])]),s("div",xt,[s("div",$t,[J(t(D),{onClick:_[5]||(_[5]=a=>T.$emit("go"))},{default:U(()=>[j("Start")]),_:1})])])]))}}),St=W(It,[["__scopeId","data-v-ca605640"]]),Et={class:"container"},Ut=s("div",{class:"row"},[s("div",{class:"col"},"Conjugation Test")],-1),Ct={class:"row"},At={class:"col"},Mt=["id"],Dt={class:"col"},Nt={class:"row"},qt=C({__name:"ConjugationTestView",setup(v){const o=N(),e=k();A(()=>{}),P(()=>{});const f=Q("notify"),i=E(null),T=E(null),_=()=>{if(i.value=o.getRandomItemToConjugate(),i.value==null)return f.error("No item found to test"),null;o.isWordVerb(parseInt(i.value.id))?T.value=M.verb({verb:i.value[o.uglyJmdict.kanji].length>0?i.value[o.uglyJmdict.kanji][0][o.uglyJmdict.text]:i.value[o.uglyJmdict.kana][0][o.uglyJmdict.text],reading:i.value[o.uglyJmdict.kana][0][o.uglyJmdict.text]}):o.isWordNaAdjective(parseInt(i.value.id))?T.value=M.na_adjective({word:i.value[o.uglyJmdict.kanji].length>0?i.value[o.uglyJmdict.kanji][0][o.uglyJmdict.text]:i.value[o.uglyJmdict.kana][0][o.uglyJmdict.text],reading:i.value[o.uglyJmdict.kana][0][o.uglyJmdict.text]}):o.isWordIAdjective(parseInt(i.value.id))&&(T.value=M.i_adjective({word:i.value[o.uglyJmdict.kanji].length>0?i.value[o.uglyJmdict.kanji][0][o.uglyJmdict.text]:i.value[o.uglyJmdict.kana][0][o.uglyJmdict.text],reading:i.value[o.uglyJmdict.kana][0][o.uglyJmdict.text]})),d.value=!1},a=E([]),d=E(!1),n=()=>{a.value.forEach(h=>{h.checkAnswers()}),d.value=!0},u=()=>{a.value.forEach(h=>{h.reset()}),_()},r=h=>{let I=!1;return m.values(h).forEach(x=>{typeof x=="boolean"?I=x||I:typeof x=="object"&&m.values(x).forEach(q=>{I=q||I})}),I};return(h,I)=>(l(),b(t(X),{blocked:t(o).loading},{default:U(()=>[s("div",Et,[Ut,i.value==null?(l(),b(St,{key:0,onGo:_})):(l(),c(p,{key:1},[s("div",Ct,[s("div",At,[J(ot,{word:i.value},null,8,["word"])])]),(l(!0),c(p,null,V(t(m.keys)(T.value).filter(S=>S.indexOf("stem")==-1),(S,x)=>(l(),c(p,{key:x},[r(t(e).formsToTest[S])||t(e).showEverything?(l(),c("div",{key:0,id:"row"+x,class:B(["row","mainConjRow"])},[s("div",Dt,[J(dt,{form:S,conjugation:T.value[S],ref_for:!0,ref_key:"testItems",ref:a},null,8,["form","conjugation"])])],8,Mt)):w("",!0)],64))),128)),s("div",Nt,[d.value?(l(),b(t(D),{key:1,onClick:u},{default:U(()=>[j("next")]),_:1})):(l(),b(t(D),{key:0,onClick:n},{default:U(()=>[j("Submit")]),_:1}))])],64))])]),_:1},8,["blocked"]))}});export{qt as default};
//# sourceMappingURL=ConjugationTestView-DIDDoOCk.js.map
